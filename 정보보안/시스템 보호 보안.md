# 시스템 보호 보안

1. 보안 기법

   1. 암호 : 안전한 보호 방법이 없을 때 컴퓨터 시스템 내 객체 보호를 위해 이용한다.
      1. 자원의 이용에 대한 요구가 있을때 마다 암호를 요청, 암호가 정당하면 액세스를 허용한다.
      2. 암호화 
         - 신뢰할 수 없는 링크를 통해 전송되는 정보를 보호하는 방법으로 가장 널리 사용된다.
         - 정보가 전송되기 전 암호화되고 목적지에 도달해 미리 제공된 비밀리에 의해 데이터가 복호화 된다면 안정된 정보 전송이 이루어진다.
         - 해독하기 어려운 암호화 기법 개발이 중요하다.
      3. 암호의 기능
         - 비밀성 : 통신망을 통한 정보의 전송이나 시스템에 저장되어 있을 때 정보의 노출 방지
         - 인증 : 액세스하려는 사용자의 확인 및 시스템 액세스 권한이 있는지를 보증한다.
         - 무결성 검사 : 메시지나 파일이 수정되지 않았음을 보장한다.
         - 전자 서명 : 메시지나 파일이 인증 및 무결성 검사가 기능에 의해 신원 확인과 정복 보호 상태에 생성되고 전송되었음을 보장한다.
      4. 암호의 문제
         - 암호의 비밀 유지가 어려움
         - 추측이나 우연한 노출로 인해 알려질 수 있다.
      5. 암호화 수행 방법은 전통적인 암호화 기법의 대칭키 알고리즘과 비대칭키의 공개키 알고리즘으로 구분된다.
   2. 대칭형 암호화 기법
      1.  가장 널리 알려진 방법으로, 단일키 암호화 알고리즘
         1. 암호 및 복호 알고리즘, 두 알고리즘에 사용할 비밀키 하나를 이용한다.
         2. 비밀키(개인키)를 사용해 데이터를 암호화한다.
         3. 데이터 암호화 표준 기법
            1. IBM이 개발, 1977년 MIST가 표준 암호화 기법으로 채택
            2. 대칭형 암호화 기법 중 가장 널리 사용된다.
         4. 키 분배 시 문제 발생
            1. 데이터 전송 전 비밀키는 송신자와 수신자에게 안전하게 전달되어야 한다.
            2. 통신망 환경에서 효율적인 수행이 어렵다.
            3. 문제를 해결하기 위해 비대칭형 공개키 암호화 기법 사용
            4. 가장 널리 알려진 방법으로 단일키 암호화 알고리즘 
            5. 암호 및 복호 알고리즘, 두 알고리즘에 사용할 비밀키 하나를 이용한다.
            6. 비밀키(개인키)를 사용해 데이터를 암호화한다.
            7. 1976년 디피와 헬먼에 의해 처음 발표
            8. 각 사용자는 공개키와 개인키를 모두 가진다.
   3. 공개키 암호화 기법
      1. RSA 암호화 알고리즘
         1. 코드화하기 간단하나, 암호문 해독이 매우 어렵다.
   4. 인증
      1. 서로 교환하는 정보의 무결성을 확인하는 메시지 인증과 송/수신자의 정당성을 확인하는 사용자 인증 두 가지 방법으로 구분한다.
      2. 메시지 인증
         1. 메시지 전송 중에 수신자의 변경 여부 뿐만 아니라 메시지의 내용 및 순서의 변경여부를 확인하기위해 메시지 인증 코드를 사용한다.
         2. 전송 받은 메시지의 무결성을 확인하기위해 MAC 생성 시 사용한 비밀키를 이용하여 동일한 방법으로 MAC를 생성한 후 전송받은 MAC값과 비교한다.
         3. HMAC 함수
            1. 해시함수를 이용한 MAC 생성 함수
            2. 해시 함수의 입력에 사용자의 비밀키와 메시지를 동시에 포함해서 해시코드를 구한다.
      3. 사용자 인증
         1. 서버 상의 특정 디렉토리를 아이디, 암호 입력 등의 특별한 과정을 거친 후 기능을 사용할 수 있도록 하는 방법
         2. 사이버 공간에서 본인이라고 주장하는 어떤 실체에 대해 그 신원을 확인할 수 있도록 해주는 기법
            1. 메시지 암호화를 이용해 상대방이 정당한 사용자인지 서로 인증 메시지 인증 코드로 인증 가능
            2. 사용자 인증의 가장 보편적인 방법은 사용자의 암호를 이용하는 방법
            3. 사용자가 자신의 신원을 밝힐 때 암호를 요구 받게 되며, 사용자가 제공하는 암호와 시스템 내 저장된 암호가 일치하면 그 사용자는 합벅적인 것으로 인증된다.
      4. 디지털 서명 기법
         1. 부인 봉쇄
            1. 메시지를 송수신하는 경우 해당자가 송수신에 대한 행위를 부인할 수 없도록 하거나 인증 등의 보안 서비스를 제공하기 위해 사용
            2. 메시지 인증 코드와 같이 데이터의 변조 검증 가능
            3. 비대칭형 암호화 알고리즘을 사용한다.
         2. 공개키 암호 시스템을 사용할 때와 반대 
            1. 메시지를 개인키로 암호화하는 것이 서명 작성에 해당한다.
            2. 암호문을 공개키로 복호화 하는 것이 서명 검증에 해당한다.
            3. 공개키 암호화 시스템을 이용한 디지털 서명 생성
         3. 서명의 검증은 서명자의 공개키(검증키)를 사용한다.
            1. 수신자는 송신자의 공개키로 수신한 메시지를 복호화한다.
            2. 전송받은 암호화 데이터에서 서명 생성 부분과 메시지를 나눈다.
            3. 두 개의 해시코드를 비교함으로 써 메시지에 대한 서명을 검증한다.
   5. 네트워크 보안
      1. 방화벽
         1. 다른 네트워크의 사용자들로부터 네트워크 자원들을 보호하는 침입 차단 시스템
         2. 공개 되지 않는 자원에 대한 외부인의 액세스를 막고, 접속해야 할 외부의 자원들을 통제한다.
         3. 라우터 프로그램과 밀접하게 동작한다.
         4. 네트워크 패킷들을 수신처로 전달할 것인지를 결정하기 위해 검사하여 허위 패킷을 여과한다.
         5. 악성 내부자에 대해 보호 불가능, 내부 호스트에 강제적인 보안 기법으로 제한한다.
      2. 침입 탐지 시스템 (IDS)
         1. 적극적인 방어 기법으로 침입 사실을 빠르게 검출, 침입자를 봉쇄하여 시스템의 손실과 데이터의 훼손을 최소화한다.
         2. 정보 시스템의 기밀성, 무결성, 가용성을 침해하는 모든 행위를 탐지한다.
            1. 네트워크나 시스템에서 의심 되는 점을 조사 및 감시하고 필요한 조치를 취한다.
            2. 컴퓨터 시스템의 비정상적인 사용이나 잘못된 사용 등 기준이나 규정을 벗어나는 행위가 발견되면 침입의 과정을 로그에 기록하고 경고해 위험을 알린다.
         3. 통계적 변화 탐지
            1. 정상적인 사용자의 패턴을 조사해서 데이터를 수집한다.
            2. 합법적인 사용자의 행위에 대해 테스트
               1. 임계치(경계) 탐지 : 시스템에 관련된 명령어를 관찰해 발생 횟수에 대한 경계를 정한다.
               2. 프로필 기반 탐지 : 사용자의 행동을 분석한 속성 파일을 이용한 프로필 개발과 각 계정의 사용자의 행위 변화를 탐지하기위한 데이터로 활용하기위해 작성
         4. 규칙기반 변화 탐지
            1. 과거에 만들어진 감사 데이터로부터 얻은 시스템 사용자 패턴을 규칙으로 작성
            2. 패턴에 맞지 않는 행동 발견 시 침입으로 결정
               1. 오용 탐지 : 시스템 사용자가 사용하는 침입유형을 규칙으로 저장해서 유사한 형태의 행위가 발생되면 침입으로 결정
               2. 이상 탐지 : 일반적인 행위 형태로부터 벗어나는 행위를 탐지해서 침입으로 결정
         5. 상태 변이 분석
            1. 침입자가 시스템 내부에 침입해 시스템 관리자의 권한을 얻기까지의 과정을 단계별로 저장한 다음, 감사 데이터에 나타난 사용자의 사용 형태와 비교해 침입자를 발견
      3. 트래픽 채우기
         1. 트래픽 양 분석 공격을 방어하기 위한 수단
         2. 여분의 데이터를 삽입해 데이터를 일정한 길이로 만들어 트래픽 분석의 위협을 방어한다.
         3. 여분의 데이터 삽입 후의 데이터 길이는 실제 트래픽 에서 발생하는 데이터의 최장 길이보다 크다.
         4. 프로토콜 데이터의 내용 암호화, 혹은 변형된 데이터가 실제 데이터와 구별이 안된다.
      4. 보안 운영체제를 탑재한 컴퓨터
         1. 보안 운영체제란 운영체제의 보안상 결함으로 인해 발생할 수 있는 여러 형태의 해킹 공격으로부터 시스템을 보호하기 위한 커널 수준의 보안 방법
         2. 시스템 사용자에 댜한 식별 및 인증, 강제적 그리고 임의적 액세스 제어, 감시 추적 및 침입 탐지 등 강력한 보안 기능 요소들을 포함한 운영체제 이를 탑재한 시스템이 신뢰 시스템
2. 보안 운영체제 
   1. 개요 
      1. 커널에 참조 모니터라 불리는 모듈을 통해 사용자가 어떠한 객체에 연산을 요청하더라도 항상 액세스를 제어해 승인과 거절을 수행한다.
      2. 위협 감시 기능의 침입 탐지 기능을 추가하여, 끊임없는 보안 위반을 탐지하고 의심 가는 행동을 검사한다.
         1. 몇 개 이상의 부적절한 시도를 할 경우 암호를 추측하기 위한 시도로 판정, 액세스를 제한한다.
         2. 로그의 확보를 통해 프로세스 단위로 파일, 디렉터리, 디바이스 등에 대한 상세한 액세스 연산 등을 파악
      3. 감사 데이터 자체가 안전하지 못하다면 침입자는 이를 변조해 자신의 행위를 추적할 수 없도록 변조해서 감춘다.
         1. 감사 기능을 운영체제 내부에 구현하여 이러한 위협을 근본적으로 차단한다.
      4. TCSEC 초안 재정
         1. 1983년 미국, 오렌지 북이라 불리는 신뢰성 커퓨터 시스템 평가 기준
         2. 7가지 등급 (보안이 약한 순서대로 A1, B3, B2, B1, C2, C1) 으로 분류
         3. 보안정책, 신분확인 및 감사 추적 등의 책임성, 보증 및 연속적인 보호, 문서 부분 등의 기본적인 컴퓨터 보안 요구 사항을 규정해 보안 커널
3. 보안 운영체제의 기능
   1. 식별과 인증 과정을 통해 로그인해야 한다.
      1. 식별과 인증은 각 시스템 자원을 보호하기 위한 1차적인 보호 계층
      2. 구조를 바꾸지 않고 여러가지 방법을 보안 개선할 수 있으나, 특별한 정보를 보호하려면 강력한 시스템 구조가 요구된다.
      3. 보안 커널 설계의 기본 기능
         1. 영역의 분리, 강제적인 액세스 제어, 신뢰할 수 있는 경로(보호된 경로) 등
   2. 영역 분리
      1. 어플리케이션 이나 사용자의 역할에 따라 액세스할 수 있는 정보의 영역을 제한하고 시스템의 제어 권한을 제한하는 것
      2. 임의의 어플리케이션이 자신과 무관한 정보 영역을 마음대로 액세스하거나 일반 사용자는 물론, 루트 사용자 계정이라도 보안 운영체제가 정의한 것 이외의 관리 업무를 단독으로 수행할 수 없도록 운영체제가 통제한다.
   3. 강제적인 액세스 제어
      1. 액세스 제어
         1. 운영체제 내에 자원 사용 주체가 되는 사용자 또는 프로세스가 객체인 파일, 파일 시스템, 디스크 등을 액세스할 때 신분이나 규칙에 의해 해당 객체에 대한 액세스를 제어하는 방법
         2. 강제적인 액세스 제어
            1. 사용자나 어플리케이션이 전혀 액세스할 수 없는 운영체제의 하위 계층인 커널에서 정보 보안의 주요 결정이 이루어지도록 강제적으로 제어
            2. 사용자와 객체에 객체의 허용등급을 나타내는 기밀 수준과 액세스 범위의 보안 등급을 할당
               1. 시스템에서 사용자 및 객체 자신의 역할과 대응되는 사용자 등급은 신뢰의 정도를 나타낸다.
               2. 객체의 등급은 정보의 부당한 사용으로 인한 손상 정도를 고려하여 객체에 포함된 정보의 기밀성을 반영한다.
               3. 객체를 액세스하려는 사용자를 허용하기 위해 사용 객체 사이에 검증된 관계를 확인한다.
            3. 시스템 내부의 요소들을 좀 더 세분화하여 영역을 분리한 뒤 이들 간의 액세스를 커널 레벌에서 강제적으로 제어한다.
            4. 운영체제의 강제적인 액세스 제어 외 다음을 포함한다.
               1. 액세스 제어 정책 : 운영체제 제어 하에서 주체가 객체를 어떻게 액세스할 것인지를 지정
               2. 인증 사용 정책 : 사용자 인증에 사용되는 사용자 인증 메커니즘
               3. 암호 사용 정책 : 데이터를 저장, 전송할 때 사용하기 위해 사용되는 암호 메커니즘
         3. 신뢰할 수 있는 경로 (보호된 경로)
            1. 안전한 소프트웨어와 함께 상호 동작하는 사용자를 허가하는 메커니즘
            2. 운영체제의 제어 아래에서 주체가 객체를 어떻게 액세스할 것인가를 지정
               1. 사용자의 신뢰할 수 있는 소프트웨어를 이는 악의적인 어플리케이션을 막을 수 있다.
            3. 시스템 기능을 보호하기위해 소프트웨어 요소 사이의 상호 보증할 수 있는 보호된 경로의 채널이 필요하다.
   4. 참조 모니터
      1. 컴퓨터 하드웨어, 운영체제에 있는 제어 요소
         1. 보안 커널의 가장 중요한 부분으로 자원에 대한 모든 액세스를 제어하는 추상적 장치
         2. 요구 사항
            1. 참조 모니터에 대한 부정 행위는 방지 되어야 하므로 액세스 제어 기법은 변조가 불가능 해야 한다.
            2. 액세스 요청은 모든 자원에 대해 발생 되어야 하며 참조 모니터는 항상 수행되어야 한다.
            3. 다른 보안 기법과 상호 데이터를 교환, 분석과 시험이 용이하도록 작아야 과부하가 감소한다.
         3. 안전한 운영체제와 보안 소프트웨어에 사용 되어 활용 분야에서 효과를 인증
         4. 주체와 객체의 중계자로서의 역할
            1. 참조 모니터 데이터베이스의 정보를 바탕으로 액세스 권한을 확인 후 객체의 액세스 허용 여부를 결정한다.
            2. 보안 정책에 합당한 애겟스 제어 정책이 적용된다.
   5. 감사 로그
      1. 시간, 사용자 그리고 객체에 대한 모든 액세스 형태를 기록한 파일
         1. 감사 : 사용자가 시스템에 액세스 한 후 입력한 검색어, 검색 대상의 활동 내역을 기록 저장하여 일련의 기록을 조사하는 것
         2. 감사 로그는 특정 서버의 디렉토리에 존재
         3. 보안을 위한 사용자가 있을 경우, 감사 로그를 이용해 언제 어떤 문제가 발생했는지와 가해진 피해 정도를 알아볼 수 있다.
         4. 감사 로그의 정보 이용
            1. 위반으로부터 회복을 위해 이용
            2. 앞으로 있을 수 있는 문제에 대한 예방책으로 사용
            3. 좀 더 나은 방법의 개발에 유용하게 이용된다.
      2. 침입 탐지를 위한 기본 도구는 감사 기록
         1. 진행 중인 행위에 대한 모든 기록은 침입 탐지 시스템의 입력으로 유지
         2. 탐지에 적합한 감사 기록 예시)
            1. 도로시 데닝에 의해 개발된 모델
            2. 아래의 필드가 포함된다.
               1. 주체 : 행의 게시자, 즉 터미널 사용자 (프로세스)
               2. 행위 : 주체가 수행하는 동작(로그인, 읽기, 입출력 수행, 실행 등)
               3. 객체 : 행위의 수신자 (파일, 프로그램, 메시지, 레코드, 프린터 등)
               4. 예외 조건 : 반환 시에 발생할 예외 조건
               5. 자원 사용량 : 프린터나 화면에 출력된 행수, 읽혀지고 쓰여진 레코드 수, 프로세서 시간 등
               6. 시간 검인 : 행위 발생 시간
            3. 모든 주체와 실행되는 모든 프로세스의 객체에 대한 액세스 정보들은 감사 파일에 기록
         3. 감사 추적의 장점
            1. 감사 자료 자체의 보안성
               1. 감사 자료 자체가 안전하지 못하다면 침입자는 이를 변조하여 자신의 불법행위를 추적할 수 없도록 감출 수 있다.
               2. 감사 기능을 운영체제 커널에 구현하여 이를 근본적으로 차단한다.
            2. 감사 기록 예)
               1. 스미스가 디렉토리의 게임 실행 프로그램을 복사하는 과정
               2. 기존의 응용 프로그램 실행 환경을 그대로 유지하면서 시스템 차원의 강력한 보안 기능을 제공
               3. 기술적 핵심은 정보영역의 분리, 최소 권한 유지를 위한 제적 액세스 제어와 참조 모니터 그리고 감사 추적 기능