# 침입차단시스템(firewall)

1. 침입차단시스템

- 개념 : 인터넷과 같은 외부네트워크에서 비인가자가 내부망으로  
불법적인 접근 또는 접속을 시도하는 것을 막기 위한 시스템 / 내부네트워크를 방어하는 보안경계선
- 작동원리 : 외부네트워크로부터 침입차단시스템으로 들어오는 모든 접근시도를 거부(deny)한 후,  
사전에 설정된 보안규칙에 따라 허용할 접근만 단계적으로 허용(permit)

* ACL를 토대로 패킷을 허용, 거부하여도 트래픽제어 
* 로깅, 감사 추적 및 무결성 체크
* 주소변환, 사용자인증

- 기술에 따른 분류

* 패킷필터링 F/W : 송수신되는 데이터패킷의 IP주소 및 TCP/IP  
HEADER 정보만을 활용(높은성능 + 낮은수준의 보안성 제공)  
접속상태를 기억하지 못하여 오직 규칙에 의해서만 필터링,  
패킷 HEADER내 정보만 접속을 제어하므로 데이터 내용분석이 불가능하여 IP Spoofing 공격에 취약하다.

* Stateful Insepction F/W : 상대테이블에 데이터패킷의 연결정보를 저장하고  
이를 참조하여 패킷 필터링(높은성능 + 높은수준 보안성 제공) 송/수신 패킷을 모두 검사. 
* Proxy F/W : 내,외부네트워크 사이에 위치(양방향으로 연결을 형성)하여 외부 공격자가 내부네트워크로 직접 접근하는 것을 제어  
  - Application Level Proxy : 응용계층에서 패킷전체를 기반으로 접근결정, 각각의 프로토콜에 대한 Proxy Server 필요 (높은성능 + 높은수준 보안성 제공)
  - Circuit Level Proxy : 클라이언트와 서버사이에 회선생성 후 요청서비스로 연결, 응용수준과는 무관하게 하나의 Proxy Server 필요

2. 침입차단시스템 설치 및 구성 

* 스크리닝 라우터
  * 라우터를 이용, 각 인터페이스에 들어오고 나가는 패킷을 필터링 -> 내부로 접근제어
  * 3 ~ 4계층에서 동작하는 프로토콜(ID, TCP, UDP) Header에 포함된 내용을 분석하여 동작
    * 장점 : 필터링 속도가 빠르고 저비용이다.
    * 단점 : 패킷 내부 데이터에 대한 공격의 차단이 불가능하다.

* 배스천호스트
  * 응용계층서비스를 제공해주는 내부네트워크와 외부네트워크의 연결점으로 사용되는 호스트
  * 내,외부 네트워크 사이에서 게이트웨이 역할을 수행하여 철저한 보안방어막 구축
    * 장점 : 각종 로깅 정보 생성 및 관리가 용이하다.
    * 단점 : 패킷 내부 데이터에 대한 공격의 차단이 불가능하다.

* 이중네트워크 게이트웨이
  * 하나의 인터페이스 -> 외부 연결 
  * 다른 인터페이스 -> 내부 연결
  * 내,외부네트워크 간 직접적인 TCP/IP 연결 불가능, (외부, 내부 물리적으로 격리)
    * 장점 : 효율적인 트래픽관리, 설치, 유지보수가 용이하다.
    * 단점 : 배스천호스트가 손상되거나 로그인정보가 누출되면 내부네트워크 보호가 어렵다.

* 스크린드 호스트 게이트웨이
  * 듀얼-홈드게이트웨이 + 스크리닝 라우터
    * 장점 : 네트워크 계층, 응용계층으로 역할 분리 대응
    * 단점 : 공격자가 스크리닝 라우터의 라우팅 테이블 변경 시 외부 트래픽이 내부망으로 진입하여 방어가 불가능

* 스크린드 서브넷 게이트웨이
  * 스크리닝 라우터 사이에 듀얼-홈드 게이트웨이에 위치
  * 인터넷과 내부네트워크 사이에 DMZ라는 네트워크 완충지역 역할을 하는 서브넷을 운영하는 방식
    * 장점 : DMZ과 같은 보안층을 가지고 있어 매우 안전하며 방어기능 수행
    * 단점 : 설치와 관리가 어려움, 고비용 및 저속의 보안 서비스 
	 
3. WEB 침입차단시스템
  1. 웹 방화벽 : OWASP의 대표적인 웹 취약 공격에 대한 탐지 및 대응가능
  2. OWASP TOP10 : A1 ~ A10 **<Top Ten Overview (2017)>** 
  3. 기존침입차단시스템의 한계<삽입취약점, 크로스사이트 스크립팅, 취약한 접근통제>
    * HTTP 특성상 80포트를 사용하는 연결트래픽 차단 불가
    * URL, HEADER 등 웹 프로토콜에 특화된 공격에 대응 불가
    * 어플리케이션 레벨에서 트래픽 분석 및 차단 기능 수행 불가
  4. 구현방식에 따른 분류
    * 네트워크기반 웹 방화벽
      * 구성 : 네트워크 구간의 In-line
      * 장점 : 단일방비로 다수 웹 서버 보안 적용, 기존 웹 서버의 변경 및 수정 불 필요
      * 단점 : SSL과 같은 암호데이터 전송이 많을 경우 서비스 지연, 다른 기종의 운영체제 웹 서버가 설치되었을 경우 대응 어려움
    
    * 호스트기반 웹 방화벽
      * 구성 : 에이전트, 마스터 서버
      * 장점 : 보안모듈이 설치되므로 서버 환경별로 최적화 된 보안 정책 적용
      * 단점 : 웹 서버별로 에이전트가 설치되어 관리의 어려움, 웹 서버별로 최적화된 환경 구축 비용 증대



 

 

 

